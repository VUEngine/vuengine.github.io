---
layout: documentation
parents: Documentation > API
title: "MemoryPool Class Reference"
permalink: documentation/api/class-memory-pool/
---


<div id="top">







<div id="main-nav"></div>

</div>
<div id="doc-content">
<div class="header">
  
  <div class="headertitle"><h1 class="title">MemoryPool Class Reference</h1></div>
</div>
<div class="contents">

<p><code>#include &lt;<a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MemoryPool:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../class_memory_pool.png" usemap="#MemoryPool_map" alt />
  <map id="MemoryPool_map" name="MemoryPool_map">
<area href="/documentation/api/class-object/" alt="Object" shape="rect" coords="0,0,83,24" />
  </map>
</div></div>
<table class="memberdecls table">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad13dc143c441ebfe6e30a45c4745bfe8" id="r_ad13dc143c441ebfe6e30a45c4745bfe8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="/documentation/api/-types-8h/">BYTE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad13dc143c441ebfe6e30a45c4745bfe8">allocate</a> (<a class="el" href="/documentation/api/-types-8h/">int32</a> numBytes)</td></tr>

<tr class="memitem:a0f3729ae248c3e9478eb562b2149f12d" id="r_a0f3729ae248c3e9478eb562b2149f12d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f3729ae248c3e9478eb562b2149f12d">free</a> (<a class="el" href="/documentation/api/-types-8h/">BYTE</a> *object)</td></tr>

<tr class="memitem:a2e3957286cef5517274649353b8bd08e" id="r_a2e3957286cef5517274649353b8bd08e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e3957286cef5517274649353b8bd08e">printResumedUsage</a> (<a class="el" href="/documentation/api/-types-8h/">int32</a> x, <a class="el" href="/documentation/api/-types-8h/">int32</a> y)</td></tr>

<tr class="memitem:a5e4c81e73e49a4252f8f7acf48dfdaac" id="r_a5e4c81e73e49a4252f8f7acf48dfdaac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e4c81e73e49a4252f8f7acf48dfdaac">printDetailedUsage</a> (<a class="el" href="/documentation/api/-types-8h/">int32</a> x, <a class="el" href="/documentation/api/-types-8h/">int32</a> y)</td></tr>

</table><table class="memberdecls table">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a74bcacc31b1bf50c32bc2b0d4061ce4d" id="r_a74bcacc31b1bf50c32bc2b0d4061ce4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOL_ARRAYS</a> <a class="el" href="/documentation/api/-types-8h/">BYTE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> [<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>]</td></tr>
<tr class="memdesc:a74bcacc31b1bf50c32bc2b0d4061ce4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual blocks that constitute the memory pools.  <br /></td></tr>

<tr class="memitem:abb44d1e0322ea2ccd1d84b30bd93c150" id="r_abb44d1e0322ea2ccd1d84b30bd93c150"><td class="memItemLeft" align="right" valign="top"><a class="el" href="/documentation/api/-types-8h/">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a> [<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>][2]</td></tr>
<tr class="memdesc:abb44d1e0322ea2ccd1d84b30bd93c150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping of memory pools to their block and total size.  <br /></td></tr>

<tr class="memitem:a073ce51483c9d3d65fc7fafed40d1da9" id="r_a073ce51483c9d3d65fc7fafed40d1da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="/documentation/api/-types-8h/">BYTE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a073ce51483c9d3d65fc7fafed40d1da9">poolLastFreeBlock</a> [<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>]</td></tr>
<tr class="memdesc:a073ce51483c9d3d65fc7fafed40d1da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of pointers to the last free block found in each pool to accelerate the next search.  <br /></td></tr>

</table><table class="memberdecls table">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_class_object"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_object')"><img src="../closed.png" alt="-" />&#160;Private Member Functions inherited from <a class="el" href="/documentation/api/class-object/">Object</a></td></tr>
<tr class="memitem:a3a3ea4d86b4b946d57464f65a6a42362 inherit pub_methods_class_object" id="r_a3a3ea4d86b4b946d57464f65a6a42362"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="/documentation/api/class-object/">constructor</a> ()</td></tr>
<tr class="memdesc:a3a3ea4d86b4b946d57464f65a6a42362 inherit pub_methods_class_object"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class' constructor.  <br /></td></tr>

<tr class="memitem:a3e0f8f5b91339830eda363780e2cab8a inherit pub_methods_class_object" id="r_a3e0f8f5b91339830eda363780e2cab8a"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="/documentation/api/class-object/">getVTable</a> ()</td></tr>

<tr class="memitem:ae35f028309cbeb2728b1742e7e05176a inherit pub_methods_class_object" id="r_ae35f028309cbeb2728b1742e7e05176a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="/documentation/api/-types-8h/">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="/documentation/api/class-object/">mutateTo</a> (const void *targetClass)</td></tr>

<tr class="inherit_header pub_static_methods_class_object"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_methods_class_object')"><img src="../closed.png" alt="-" />&#160;Static Private Member Functions inherited from <a class="el" href="/documentation/api/class-object/">Object</a></td></tr>
<tr class="memitem:a8ae116f1bf924247a7fd9e91a615a705 inherit pub_static_methods_class_object" id="r_a8ae116f1bf924247a7fd9e91a615a705"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="/documentation/api/class-object/">Object</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="/documentation/api/class-object/">getCast</a> (void *object, <a class="el" href="/documentation/api/-oop-8h/">ClassPointer</a> targetClassGetClassMethod, <a class="el" href="/documentation/api/-oop-8h/">ClassPointer</a> baseClassGetClassMethod)</td></tr>

<tr class="inherit_header pub_attribs_class_object"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_class_object')"><img src="../closed.png" alt="-" />&#160;Private Attributes inherited from <a class="el" href="/documentation/api/class-object/">Object</a></td></tr>
<tr class="memitem:a481b05c1f25b4e686eca17995944bfcc inherit pub_attribs_class_object" id="r_a481b05c1f25b4e686eca17995944bfcc"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="/documentation/api/class-object/">vTable</a></td></tr>
<tr class="memdesc:a481b05c1f25b4e686eca17995944bfcc inherit pub_attribs_class_object"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the class's virtual table.  <br /></td></tr>

</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class <a class="el" href="/documentation/api/class-memory-pool/">MemoryPool</a></p>
<p>Inherits from <a class="el" href="/documentation/api/class-object/">Object</a></p>
<p>Implements a memory pool for dynamic object allocation. </p>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8h-source/">54</a> of file <a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad13dc143c441ebfe6e30a45c4745bfe8" name="ad13dc143c441ebfe6e30a45c4745bfe8"></a>
<h2 class="memtitle">allocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname">static <a class="el" href="/documentation/api/-types-8h/">BYTE</a> * MemoryPool::allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">int32</a></td>          <td class="paramname"><span class="paramname"><em>numBytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a block big enough to hold the provided amount of bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params table">
    <tr><td class="paramname">numBytes</td><td>Total number of bytes to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the allocated block </dd></dl>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8c-source/">40</a> of file <a class="el" href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>    MemoryPool memoryPool = MemoryPool::getInstance();</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_define" href="/documentation/api/-constants-8h/">NM_ASSERT</a>(<a class="code hl_define" href="/documentation/api/-oop-8h/">__SINGLETON_NOT_CONSTRUCTED</a> != _singletonConstructed, <span class="stringliteral">&quot;MemoryPool::allocate: no properly constructed yet&quot;</span>);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span><span class="preprocessor">#ifndef __SHIPPING</span></div>
<div class="line"><span class="lineno">   47</span><span class="preprocessor">#ifndef __RELEASE</span></div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">int32</a> lp = <a class="code hl_function" href="/documentation/api/class-hardware-manager/">HardwareManager::getLinkPointer</a>();</div>
<div class="line"><span class="lineno">   49</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   50</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <span class="keyword">static</span> <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a> pool = <a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a> &gt;&gt; 1;</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> blockSize = memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">if</span>(blockSize &gt; (<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>)numberOfBytes)</div>
<div class="line"><span class="lineno">   57</span>    {</div>
<div class="line"><span class="lineno">   58</span>        pool = <a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>;</div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   61</span>    {</div>
<div class="line"><span class="lineno">   62</span>        pool++;</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_function" href="/documentation/api/class-hardware-manager/">HardwareManager::suspendInterrupts</a>();</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">while</span>(0 != pool--)</div>
<div class="line"><span class="lineno">   68</span>    {</div>
<div class="line"><span class="lineno">   69</span>        blockSize = memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">if</span>((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>)numberOfBytes &gt; blockSize)</div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   74</span>        }</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">BYTE</a>* poolLocationStart = &amp;memoryPool-&gt;<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>[pool][0];</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">BYTE</a>* poolLocationLeft = memoryPool-&gt;<a class="code hl_variable" href="#a073ce51483c9d3d65fc7fafed40d1da9">poolLastFreeBlock</a>[pool];</div>
<div class="line"><span class="lineno">   78</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">BYTE</a>* poolLocationRight = poolLocationLeft + blockSize;</div>
<div class="line"><span class="lineno">   79</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">BYTE</a>* poolLocationEnd = poolLocationStart + memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] - blockSize;</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">BYTE</a>* <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">if</span>(100 &lt; memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] / blockSize)</div>
<div class="line"><span class="lineno">   83</span>        {</div>
<div class="line"><span class="lineno">   84</span>            <a class="code hl_define" href="/documentation/api/-hardware-manager-8h/">CACHE_RESET</a>;</div>
<div class="line"><span class="lineno">   85</span>        }</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   88</span>        {</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">if</span>(poolLocationRight &lt;= poolLocationEnd)</div>
<div class="line"><span class="lineno">   90</span>            {</div>
<div class="line"><span class="lineno">   91</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationRight))</div>
<div class="line"><span class="lineno">   92</span>                {</div>
<div class="line"><span class="lineno">   93</span>                    <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationRight;</div>
<div class="line"><span class="lineno">   94</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   95</span>                }</div>
<div class="line"><span class="lineno">   96</span>                </div>
<div class="line"><span class="lineno">   97</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationEnd))</div>
<div class="line"><span class="lineno">   98</span>                {</div>
<div class="line"><span class="lineno">   99</span>                    <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationEnd;</div>
<div class="line"><span class="lineno">  100</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  101</span>                }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>                poolLocationRight += blockSize;</div>
<div class="line"><span class="lineno">  104</span>                poolLocationEnd -= blockSize;</div>
<div class="line"><span class="lineno">  105</span>            }</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  107</span>            {</div>
<div class="line"><span class="lineno">  108</span>                <span class="keywordflow">while</span>(poolLocationLeft &gt;= poolLocationStart)</div>
<div class="line"><span class="lineno">  109</span>                {</div>
<div class="line"><span class="lineno">  110</span>                    <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationLeft))</div>
<div class="line"><span class="lineno">  111</span>                    {</div>
<div class="line"><span class="lineno">  112</span>                        <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationLeft;</div>
<div class="line"><span class="lineno">  113</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  114</span>                    }</div>
<div class="line"><span class="lineno">  115</span>                    </div>
<div class="line"><span class="lineno">  116</span>                    <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationStart))</div>
<div class="line"><span class="lineno">  117</span>                    {</div>
<div class="line"><span class="lineno">  118</span>                        <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationStart;</div>
<div class="line"><span class="lineno">  119</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  120</span>                    }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>                    poolLocationLeft -= blockSize;</div>
<div class="line"><span class="lineno">  123</span>                    poolLocationStart += blockSize;</div>
<div class="line"><span class="lineno">  124</span>                }</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  127</span>            }</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">if</span>(poolLocationLeft &gt;= poolLocationStart)</div>
<div class="line"><span class="lineno">  130</span>            {</div>
<div class="line"><span class="lineno">  131</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationLeft))</div>
<div class="line"><span class="lineno">  132</span>                {</div>
<div class="line"><span class="lineno">  133</span>                    <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationLeft;</div>
<div class="line"><span class="lineno">  134</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  135</span>                }</div>
<div class="line"><span class="lineno">  136</span>                </div>
<div class="line"><span class="lineno">  137</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationStart))</div>
<div class="line"><span class="lineno">  138</span>                {</div>
<div class="line"><span class="lineno">  139</span>                    <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationStart;</div>
<div class="line"><span class="lineno">  140</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  141</span>                }</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>                poolLocationLeft -= blockSize;</div>
<div class="line"><span class="lineno">  144</span>                poolLocationStart += blockSize;</div>
<div class="line"><span class="lineno">  145</span>            }</div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  147</span>            {</div>
<div class="line"><span class="lineno">  148</span>                <span class="keywordflow">while</span>(poolLocationRight &lt;= poolLocationEnd)</div>
<div class="line"><span class="lineno">  149</span>                {</div>
<div class="line"><span class="lineno">  150</span>                    <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationRight))</div>
<div class="line"><span class="lineno">  151</span>                    {</div>
<div class="line"><span class="lineno">  152</span>                        <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationRight;</div>
<div class="line"><span class="lineno">  153</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  154</span>                    }</div>
<div class="line"><span class="lineno">  155</span>                    </div>
<div class="line"><span class="lineno">  156</span>                    <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a> == *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)poolLocationEnd))</div>
<div class="line"><span class="lineno">  157</span>                    {</div>
<div class="line"><span class="lineno">  158</span>                        <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> = poolLocationEnd;</div>
<div class="line"><span class="lineno">  159</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  160</span>                    }</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>                    poolLocationRight += blockSize;</div>
<div class="line"><span class="lineno">  163</span>                    poolLocationEnd -= blockSize;</div>
<div class="line"><span class="lineno">  164</span>                }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  167</span>            }</div>
<div class="line"><span class="lineno">  168</span>        }</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">while</span>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  170</span>        <span class="comment">// Keep looking for a free block on a bigger pool</span></div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a> != <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>)</div>
<div class="line"><span class="lineno">  173</span>        {</div>
<div class="line"><span class="lineno">  174</span>            *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>) = <a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_USED_BLOCK_FLAG</a>;</div>
<div class="line"><span class="lineno">  175</span><span class="preprocessor">#ifndef __BYPASS_MEMORY_MANAGER_WHEN_DELETING</span></div>
<div class="line"><span class="lineno">  176</span>            *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a> + 1) = (<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>)pool;</div>
<div class="line"><span class="lineno">  177</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  178</span>            memoryPool-&gt;<a class="code hl_variable" href="#a073ce51483c9d3d65fc7fafed40d1da9">poolLastFreeBlock</a>[pool] = <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>;</div>
<div class="line"><span class="lineno">  179</span>            <a class="code hl_function" href="/documentation/api/class-hardware-manager/">HardwareManager::resumeInterrupts</a>();</div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>;</div>
<div class="line"><span class="lineno">  181</span>        }</div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span><span class="preprocessor">#ifndef __SHIPPING</span></div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::setDebugMode</a>();</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::clear</a>();</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_function" href="#a5e4c81e73e49a4252f8f7acf48dfdaac">MemoryPool::printDetailedUsage</a>(1, 8);</div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Block&#39;s size requested: &quot;</span>, 20, 26, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(numberOfBytes, 44, 26, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  190</span><span class="preprocessor">#ifndef __RELEASE</span></div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Caller address: &quot;</span>, 20, 27, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::hex</a>(lp, 36, 27, 8, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  193</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_function" href="/documentation/api/class-error/">Error::triggerException</a>(<span class="stringliteral">&quot;MemoryPool::allocate: pool exhausted&quot;</span>, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);       </div>
<div class="line"><span class="lineno">  196</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Return designed address</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>;</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="a_config_8h_html_a422f141338d93bbc6e9f4e122b5e7771"><div class="ttname"><a href="/documentation/api/-config-8h/">__MEMORY_POOLS</a></div><div class="ttdeci">#define __MEMORY_POOLS</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-config-8h-source/">Config.h:172</a></div></div>
<div class="ttc" id="a_constants_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="/documentation/api/-constants-8h/">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-constants-8h-source/">Constants.h:134</a></div></div>
<div class="ttc" id="a_constants_8h_html_ac14668eea84d42d121471a7723a83150"><div class="ttname"><a href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a></div><div class="ttdeci">#define __MEMORY_FREE_BLOCK_FLAG</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-constants-8h-source/">Constants.h:76</a></div></div>
<div class="ttc" id="a_constants_8h_html_aed74587f06abec906ebda88919fe59dc"><div class="ttname"><a href="/documentation/api/-constants-8h/">__MEMORY_USED_BLOCK_FLAG</a></div><div class="ttdeci">#define __MEMORY_USED_BLOCK_FLAG</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-constants-8h-source/">Constants.h:75</a></div></div>
<div class="ttc" id="a_constants_8h_html_afb745accb69c2c508a3c0e2d29f1dcde"><div class="ttname"><a href="/documentation/api/-constants-8h/">NM_ASSERT</a></div><div class="ttdeci">#define NM_ASSERT(Statement,...)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-constants-8h-source/">Constants.h:226</a></div></div>
<div class="ttc" id="a_hardware_manager_8h_html_a49126cf070caaf085a44ac1d98bdf053"><div class="ttname"><a href="/documentation/api/-hardware-manager-8h/">CACHE_RESET</a></div><div class="ttdeci">#define CACHE_RESET</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-hardware-manager-8h-source/">HardwareManager.h:40</a></div></div>
<div class="ttc" id="a_memory_pool_8h_html_a9460c54c82ac613f1b8b17777285ae36a88ce3a53309cdb01c45e32f06657649a"><div class="ttname"><a href="/documentation/api/-memory-pool-8h/">ePoolSize</a></div><div class="ttdeci">@ ePoolSize</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h:40</a></div></div>
<div class="ttc" id="a_memory_pool_8h_html_a9460c54c82ac613f1b8b17777285ae36ac2e5b8f3a24174d561fac137ab3b48a4"><div class="ttname"><a href="/documentation/api/-memory-pool-8h/">eBlockSize</a></div><div class="ttdeci">@ eBlockSize</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h:41</a></div></div>
<div class="ttc" id="a_oop_8h_html_ae1acbeb9da8283619049322f4a5b0fdf"><div class="ttname"><a href="/documentation/api/-oop-8h/">__SINGLETON_NOT_CONSTRUCTED</a></div><div class="ttdeci">#define __SINGLETON_NOT_CONSTRUCTED</div><div class="ttdoc">Singletons&#39; construction state flags.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-oop-8h-source/">Oop.h:568</a></div></div>
<div class="ttc" id="a_types_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="/documentation/api/-types-8h/">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-types-8h-source/">Types.h:19</a></div></div>
<div class="ttc" id="a_types_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="/documentation/api/-types-8h/">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-types-8h-source/">Types.h:20</a></div></div>
<div class="ttc" id="a_types_8h_html_a43d43196463bde49cb067f5c20ab8481"><div class="ttname"><a href="/documentation/api/-types-8h/">int32</a></div><div class="ttdeci">signed int int32</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-types-8h-source/">Types.h:25</a></div></div>
<div class="ttc" id="a_types_8h_html_a47bd55d8c6a9b45db1ac0957cee2a82d"><div class="ttname"><a href="/documentation/api/-types-8h/">BYTE</a></div><div class="ttdeci">uint8 BYTE</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-types-8h-source/">Types.h:28</a></div></div>
<div class="ttc" id="aclass_error_html_a317637c6509c9da9ad1464fba1f3ecbf"><div class="ttname"><a href="/documentation/api/class-error/">Error::triggerException</a></div><div class="ttdeci">static void triggerException(char *message, char *detail)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-error-8c-source/">Error.c:48</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a4bf64bd4af05f96de863c0aa103b6e9e"><div class="ttname"><a href="/documentation/api/class-hardware-manager/">HardwareManager::suspendInterrupts</a></div><div class="ttdeci">static void suspendInterrupts()</div><div class="ttdoc">Suspend interrupts.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-hardware-manager-8h-source/">HardwareManager.h:195</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a95313abcbba0b5e25f0b7dec4cb935bf"><div class="ttname"><a href="/documentation/api/class-hardware-manager/">HardwareManager::getLinkPointer</a></div><div class="ttdeci">static int32 getLinkPointer()</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-hardware-manager-8h-source/">HardwareManager.h:259</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_af5ffa43804c808e35bb4a22bd25a9d10"><div class="ttname"><a href="/documentation/api/class-hardware-manager/">HardwareManager::resumeInterrupts</a></div><div class="ttdeci">static void resumeInterrupts()</div><div class="ttdoc">Resume interrupts.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-hardware-manager-8h-source/">HardwareManager.h:180</a></div></div>
<div class="ttc" id="aclass_memory_pool_html_a073ce51483c9d3d65fc7fafed40d1da9"><div class="ttname"><a href="#a073ce51483c9d3d65fc7fafed40d1da9">MemoryPool::poolLastFreeBlock</a></div><div class="ttdeci">BYTE * poolLastFreeBlock[__MEMORY_POOLS]</div><div class="ttdoc">Array of pointers to the last free block found in each pool to accelerate the next search.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h:68</a></div></div>
<div class="ttc" id="aclass_memory_pool_html_a5e4c81e73e49a4252f8f7acf48dfdaac"><div class="ttname"><a href="#a5e4c81e73e49a4252f8f7acf48dfdaac">MemoryPool::printDetailedUsage</a></div><div class="ttdeci">static void printDetailedUsage(int32 x, int32 y)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c:326</a></div></div>
<div class="ttc" id="aclass_memory_pool_html_a74bcacc31b1bf50c32bc2b0d4061ce4d"><div class="ttname"><a href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">MemoryPool::poolLocation</a></div><div class="ttdeci">__MEMORY_POOL_ARRAYS BYTE * poolLocation[__MEMORY_POOLS]</div><div class="ttdoc">The actual blocks that constitute the memory pools.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h:62</a></div></div>
<div class="ttc" id="aclass_memory_pool_html_abb44d1e0322ea2ccd1d84b30bd93c150"><div class="ttname"><a href="#abb44d1e0322ea2ccd1d84b30bd93c150">MemoryPool::poolSizes</a></div><div class="ttdeci">uint16 poolSizes[__MEMORY_POOLS][2]</div><div class="ttdoc">Mapping of memory pools to their block and total size.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h:65</a></div></div>
<div class="ttc" id="aclass_printing_html_a1e43d7e70531d74fe03bea85e677cb29"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::int32</a></div><div class="ttdeci">static void int32(int32 value, uint8 x, uint8 y, const char *font)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:299</a></div></div>
<div class="ttc" id="aclass_printing_html_a92b0b91f848f46ae5305603a077489c8"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::text</a></div><div class="ttdeci">static void text(const char *string, int32 x, int32 y, const char *font)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:288</a></div></div>
<div class="ttc" id="aclass_printing_html_a99d5252d7ee3b715fd4189063f69252f"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::clear</a></div><div class="ttdeci">static void clear()</div><div class="ttdoc">Clear printing area in BGMAP memory.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:264</a></div></div>
<div class="ttc" id="aclass_printing_html_a9c84c7ab379f7ef53e6ce5b320c4cd6b"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::hex</a></div><div class="ttdeci">static void hex(WORD value, uint8 x, uint8 y, uint8 length, const char *font)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:306</a></div></div>
<div class="ttc" id="aclass_printing_html_aad0f1a46e008887c9f68670625d37497"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::setDebugMode</a></div><div class="ttdeci">static void setDebugMode()</div><div class="ttdoc">Set mode to debug to bypass loading fonts through CharSets.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:104</a></div></div>
</div>
</div>
</div>
<a id="a0f3729ae248c3e9478eb562b2149f12d" name="a0f3729ae248c3e9478eb562b2149f12d"></a>
<h2 class="memtitle">free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname">static void MemoryPool::free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">BYTE</a> *</td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free the memory block in which the provided object was allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params table">
    <tr><td class="paramname">object</td><td>Pointer to the memory block to free </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8c-source/">204</a> of file <a class="el" href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>{</div>
<div class="line"><span class="lineno">  206</span>    MemoryPool memoryPool = MemoryPool::getInstance();</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_define" href="/documentation/api/-constants-8h/">NM_ASSERT</a>(<a class="code hl_define" href="/documentation/api/-oop-8h/">__SINGLETON_NOT_CONSTRUCTED</a> != _singletonConstructed, <span class="stringliteral">&quot;MemoryPool::free: no properly constructed yet&quot;</span>);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span><span class="preprocessor">#ifndef __RELEASE</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a> == <span class="keywordtype">object</span>)</div>
<div class="line"><span class="lineno">  212</span>    {</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">int16</a> pool = *((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint16</a>*)<span class="keywordtype">object</span> + 1);</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span>(0 &gt; pool)</div>
<div class="line"><span class="lineno">  220</span>    {</div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">// Calls to delete non dynamic singletons are intented to fall here.</span></div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  223</span>    }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="comment">// Look for the registry in which the object is</span></div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_define" href="/documentation/api/-constants-8h/">NM_ASSERT</a>(pool &lt;= <a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a> , <span class="stringliteral">&quot;MemoryPool::free: deleting something not allocated&quot;</span>);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    memoryPool-&gt;<a class="code hl_variable" href="#a073ce51483c9d3d65fc7fafed40d1da9">poolLastFreeBlock</a>[pool] = object;</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span><span class="preprocessor">#ifdef __DEBUG</span></div>
<div class="line"><span class="lineno">  231</span>    <span class="comment">// Get the total objects in the pool</span></div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> numberOfBlocks = memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] / memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_function" href="/documentation/api/class-hardware-manager/">HardwareManager::suspendInterrupts</a>();</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// Look for the pool in which it is allocated</span></div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">for</span>(<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> i = 0, displacement = 0; i &lt; numberOfBlocks; i++, displacement += memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>])</div>
<div class="line"><span class="lineno">  238</span>    {</div>
<div class="line"><span class="lineno">  239</span>        <span class="comment">// If the object has been found</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">if</span>(<span class="keywordtype">object</span> == &amp;memoryPool-&gt;<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>[pool][displacement])</div>
<div class="line"><span class="lineno">  241</span>        {</div>
<div class="line"><span class="lineno">  242</span>            <span class="comment">// Free the block</span></div>
<div class="line"><span class="lineno">  243</span>            *(<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>*)((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>)<span class="keywordtype">object</span>) = <a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a>;</div>
<div class="line"><span class="lineno">  244</span>            <a class="code hl_function" href="/documentation/api/class-hardware-manager/">HardwareManager::resumeInterrupts</a>();</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">// Thrown exception</span></div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_define" href="/documentation/api/-constants-8h/">ASSERT</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;MemoryPool::free: deleting something not allocated&quot;</span>);</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">// Set address as free</span></div>
<div class="line"><span class="lineno">  255</span>    *(<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>*)((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>)<span class="keywordtype">object</span>) = <a class="code hl_define" href="/documentation/api/-constants-8h/">__MEMORY_FREE_BLOCK_FLAG</a>;</div>
<div class="line"><span class="lineno">  256</span>}</div>
<div class="ttc" id="a_constants_8h_html_a809ce9bb8d8cd5a99237124f8a32ffd2"><div class="ttname"><a href="/documentation/api/-constants-8h/">ASSERT</a></div><div class="ttdeci">#define ASSERT(Statement,...)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-constants-8h-source/">Constants.h:260</a></div></div>
<div class="ttc" id="a_types_8h_html_a259fa4834387bd68627ddf37bb3ebdb9"><div class="ttname"><a href="/documentation/api/-types-8h/">int16</a></div><div class="ttdeci">signed short int16</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-types-8h-source/">Types.h:24</a></div></div>
</div>
</div>
</div>
<a id="a5e4c81e73e49a4252f8f7acf48dfdaac" name="a5e4c81e73e49a4252f8f7acf48dfdaac"></a>
<h2 class="memtitle">printDetailedUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname">static void MemoryPool::printDetailedUsage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">int32</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">int32</a></td>          <td class="paramname"><span class="paramname"><em>y</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print all the details of the memory usage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params table">
    <tr><td class="paramname">x</td><td>Screen x coordinate where to print </td></tr>
    <tr><td class="paramname">y</td><td>Screen y coordinate where to print </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8c-source/">326</a> of file <a class="el" href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  327</span>{</div>
<div class="line"><span class="lineno">  328</span>    MemoryPool memoryPool = MemoryPool::getInstance();</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> i;</div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalUsedBlocks = 0;</div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalUsedBytes = 0;</div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> pool;</div>
<div class="line"><span class="lineno">  334</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> displacement = 0;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    </div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::resetCoordinates</a>();</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;MEMORY POOLS STATUS&quot;</span>, x, y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Pool Free Used&quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08\x08&quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">for</span>(pool = 0; pool &lt; <a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>; pool++)</div>
<div class="line"><span class="lineno">  346</span>    {</div>
<div class="line"><span class="lineno">  347</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalBlocks = memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] / memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">for</span>(displacement = 0, i = 0, totalUsedBlocks = 0 ; i &lt; totalBlocks; i++, displacement += memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>])</div>
<div class="line"><span class="lineno">  349</span>        {</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">if</span>(*((<a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a>*)&amp;memoryPool-&gt;<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>[pool][displacement]))</div>
<div class="line"><span class="lineno">  351</span>            {</div>
<div class="line"><span class="lineno">  352</span>                totalUsedBlocks++;</div>
<div class="line"><span class="lineno">  353</span>            }</div>
<div class="line"><span class="lineno">  354</span>        }</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        totalUsedBytes += totalUsedBlocks * memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;                &quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  359</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>],  x, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  360</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] / memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>] - totalUsedBlocks, x + 5, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  361</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(totalUsedBlocks, x + 10, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">int32</a> usedBlocksPercentage = (100 * totalUsedBlocks) / totalBlocks;</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(usedBlocksPercentage, x + 17 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(usedBlocksPercentage), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  365</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;% &quot;</span>, x + 17, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        totalUsedBlocks = 0 ;</div>
<div class="line"><span class="lineno">  368</span>    }</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    ++y;</div>
<div class="line"><span class="lineno">  371</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> poolSize = MemoryPool::getPoolSize(memoryPool);</div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Pool size: &quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  373</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(poolSize, x + 18 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(poolSize), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Pool usage: &quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(totalUsedBytes, x + 18 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(totalUsedBytes), y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> usedBytesPercentage = (100 * totalUsedBytes) / poolSize;</div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(usedBytesPercentage, x + 17 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(usedBytesPercentage), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;% &quot;</span>, x + 17, y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  381</span>}</div>
<div class="ttc" id="aclass_math_html_a5b7a5dfe4c89232a209e10e7c8fce067"><div class="ttname"><a href="/documentation/api/class-math/">Math::getDigitsCount</a></div><div class="ttdeci">static int32 getDigitsCount(int32 number)</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-math-8h-source/">Math.h:544</a></div></div>
<div class="ttc" id="aclass_printing_html_a145e6ec2d18e05b9d9ddbb92d6d3e1a6"><div class="ttname"><a href="/documentation/api/class-printing/">Printing::resetCoordinates</a></div><div class="ttdeci">static void resetCoordinates()</div><div class="ttdoc">Reset the coordinates of the WORLD used for printing.</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-printing-8c-source/">Printing.c:682</a></div></div>
</div>
</div>
</div>
<a id="a2e3957286cef5517274649353b8bd08e" name="a2e3957286cef5517274649353b8bd08e"></a>
<h2 class="memtitle">printResumedUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname">static void MemoryPool::printResumedUsage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">int32</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="/documentation/api/-types-8h/">int32</a></td>          <td class="paramname"><span class="paramname"><em>y</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a resume of the memory usage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params table">
    <tr><td class="paramname">x</td><td>Screen x coordinate where to print </td></tr>
    <tr><td class="paramname">y</td><td>Screen y coordinate where to print </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8c-source/">267</a> of file <a class="el" href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>    MemoryPool memoryPool = MemoryPool::getInstance();</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> originalY = y;</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> i;</div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalUsedBlocks = 0;</div>
<div class="line"><span class="lineno">  274</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalUsedBytes = 0;</div>
<div class="line"><span class="lineno">  275</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> pool;</div>
<div class="line"><span class="lineno">  276</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> displacement = 0;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    </div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::resetCoordinates</a>();</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;MEMORY:&quot;</span>, x, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> poolSize = MemoryPool::getPoolSize(memoryPool);</div>
<div class="line"><span class="lineno">  284</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Total: &quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(poolSize, x + 12 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(poolSize), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">for</span>(y += 2, pool = 0; pool &lt; <a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>; pool++)</div>
<div class="line"><span class="lineno">  288</span>    {</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> totalBlocks = memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">ePoolSize</a>] / memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">for</span>(displacement = 0, i = 0, totalUsedBlocks = 0 ; i &lt; totalBlocks; i++, displacement += memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>])</div>
<div class="line"><span class="lineno">  291</span>        {</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">if</span>(memoryPool-&gt;<a class="code hl_variable" href="#a74bcacc31b1bf50c32bc2b0d4061ce4d">poolLocation</a>[pool][displacement])</div>
<div class="line"><span class="lineno">  293</span>            {</div>
<div class="line"><span class="lineno">  294</span>                totalUsedBlocks++;</div>
<div class="line"><span class="lineno">  295</span>            }</div>
<div class="line"><span class="lineno">  296</span>        }</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>        totalUsedBytes += totalUsedBlocks * memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>];</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_typedef" href="/documentation/api/-types-8h/">uint32</a> usedBlocksPercentage = (100 * totalUsedBlocks) / totalBlocks;</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>        <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;           &quot;</span>, x, originalY + 3 + pool, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="/documentation/api/-config-8h/">__MEMORY_POOL_WARNING_THRESHOLD</a> &lt; usedBlocksPercentage)</div>
<div class="line"><span class="lineno">  305</span>        {</div>
<div class="line"><span class="lineno">  306</span>            <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(memoryPool-&gt;<a class="code hl_variable" href="#abb44d1e0322ea2ccd1d84b30bd93c150">poolSizes</a>[pool][<a class="code hl_enumvalue" href="/documentation/api/-memory-pool-8h/">eBlockSize</a>], x, y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  307</span>            <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(usedBlocksPercentage, x + 7 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(usedBlocksPercentage), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  308</span>            <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;% &quot;</span>, x + 7, y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  309</span>        }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>        totalUsedBlocks = 0 ;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    y = originalY;</div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_typedef" href="/documentation/api/-types-8h/">int32</a> usedBytesPercentage = (100 * totalUsedBytes) / poolSize;</div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(usedBytesPercentage, x + 11 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(usedBytesPercentage), y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;% &quot;</span>, x + 11, y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::text</a>(<span class="stringliteral">&quot;Used: &quot;</span>, x, ++y, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  319</span>    <a class="code hl_function" href="/documentation/api/class-printing/">Printing::int32</a>(totalUsedBytes, x + 12 - <a class="code hl_function" href="/documentation/api/class-math/">Math::getDigitsCount</a>(totalUsedBytes), y++, <a class="code hl_define" href="/documentation/api/-constants-8h/">NULL</a>);</div>
<div class="line"><span class="lineno">  320</span>}</div>
<div class="ttc" id="a_config_8h_html_a3452d651dba0e39504324336713f2847"><div class="ttname"><a href="/documentation/api/-config-8h/">__MEMORY_POOL_WARNING_THRESHOLD</a></div><div class="ttdeci">#define __MEMORY_POOL_WARNING_THRESHOLD</div><div class="ttdef"><b>Definition</b> <a href="/documentation/api/-config-8h-source/">Config.h:203</a></div></div>
</div>
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a073ce51483c9d3d65fc7fafed40d1da9" name="a073ce51483c9d3d65fc7fafed40d1da9"></a>
<h2 class="memtitle">poolLastFreeBlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname"><a class="el" href="/documentation/api/-types-8h/">BYTE</a>* MemoryPool::poolLastFreeBlock[<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of pointers to the last free block found in each pool to accelerate the next search. </p>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8h-source/">68</a> of file <a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a>.</p>

</div>
</div>
<a id="a74bcacc31b1bf50c32bc2b0d4061ce4d" name="a74bcacc31b1bf50c32bc2b0d4061ce4d"></a>
<h2 class="memtitle">poolLocation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname"><a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOL_ARRAYS</a> <a class="el" href="/documentation/api/-types-8h/">BYTE</a>* MemoryPool::poolLocation[<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual blocks that constitute the memory pools. </p>
<p>Array of pointers to the beginning of each memory pool </p>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8h-source/">62</a> of file <a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a>.</p>

</div>
</div>
<a id="abb44d1e0322ea2ccd1d84b30bd93c150" name="abb44d1e0322ea2ccd1d84b30bd93c150"></a>
<h2 class="memtitle">poolSizes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels table">
  <tr>
  <td class="mlabels-left">
      <table class="memname table">
        <tr>
          <td class="memname"><a class="el" href="/documentation/api/-types-8h/">uint16</a> MemoryPool::poolSizes[<a class="el" href="/documentation/api/-config-8h/">__MEMORY_POOLS</a>][2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mapping of memory pools to their block and total size. </p>

<p class="definition">Definition at line <a class="el" href="/documentation/api/-memory-pool-8h-source/">65</a> of file <a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a>.</p>

</div>
</div>
<hr />The documentation for this class was generated from the following files:<ul>
<li>VUEngine-Core/source/Base/Memory/<a class="el" href="/documentation/api/-memory-pool-8h-source/">MemoryPool.h</a></li>
<li>VUEngine-Core/source/Base/Memory/<a class="el" href="/documentation/api/-memory-pool-8c-source/">MemoryPool.c</a></li>
</ul>
</div>


</div>
